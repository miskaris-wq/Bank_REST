databaseChangeLog:
  - changeSet:
      id: "7"
      author: "ksenya"
      preConditions:
        onFail: MARK_RAN
        onError:
        nestedPreconditions:
          - not:
              and:
                - sqlCheck:
                    expectedResult: "1"
                    sql: "SELECT COUNT(*) FROM user_roles WHERE user_id = 1 AND role = 'ADMIN';"
                - sqlCheck:
                    expectedResult: "1"
                    sql: "SELECT COUNT(*) FROM user_roles WHERE user_id = 2 AND role = 'USER';"
      changes:
        - insert:
            tableName: user_roles
            columns:
              - column:
                  name: user_id
                  valueNumeric: 1
              - column:
                  name: role
                  value: "ADMIN"
        - insert:
            tableName: user_roles
            columns:
              - column:
                  name: user_id
                  valueNumeric: 2
              - column:
                  name: role
                  value: "USER"
